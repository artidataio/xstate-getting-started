{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { useEffect, useState } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport { interpret, InterpreterStatus, State, toObserver } from 'xstate';\nimport useConstant from './useConstant';\nexport function useIdleInterpreter(getMachine, options) {\n  var machine = useConstant(function () {\n    return typeof getMachine === 'function' ? getMachine() : getMachine;\n  });\n\n  if (process.env.NODE_ENV !== 'production' && typeof getMachine !== 'function') {\n    var _a = __read(useState(machine), 1),\n        initialMachine = _a[0];\n\n    if (getMachine !== initialMachine) {\n      console.warn('Machine given to `useMachine` has changed between renders. This is not supported and might lead to unexpected results.\\n' + 'Please make sure that you pass the same Machine as argument each time.');\n    }\n  }\n\n  var context = options.context,\n      guards = options.guards,\n      actions = options.actions,\n      activities = options.activities,\n      services = options.services,\n      delays = options.delays,\n      rehydratedState = options.state,\n      interpreterOptions = __rest(options, [\"context\", \"guards\", \"actions\", \"activities\", \"services\", \"delays\", \"state\"]);\n\n  var service = useConstant(function () {\n    var machineConfig = {\n      context: context,\n      guards: guards,\n      actions: actions,\n      activities: activities,\n      services: services,\n      delays: delays\n    };\n    var machineWithConfig = machine.withConfig(machineConfig, function () {\n      return __assign(__assign({}, machine.context), context);\n    });\n    return interpret(machineWithConfig, interpreterOptions);\n  }); // Make sure options are kept updated when they change.\n  // This mutation assignment is safe because the service instance is only used\n  // in one place -- this hook's caller.\n\n  useIsomorphicLayoutEffect(function () {\n    Object.assign(service.machine.options.actions, actions);\n    Object.assign(service.machine.options.guards, guards);\n    Object.assign(service.machine.options.activities, activities);\n    Object.assign(service.machine.options.services, services);\n    Object.assign(service.machine.options.delays, delays);\n  }, [actions, guards, activities, services, delays]);\n  return service;\n}\nexport function useInterpret(getMachine) {\n  var _a = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    _a[_i - 1] = arguments[_i];\n  }\n\n  var _b = __read(_a, 2),\n      _c = _b[0],\n      options = _c === void 0 ? {} : _c,\n      observerOrListener = _b[1];\n\n  var service = useIdleInterpreter(getMachine, options);\n  useEffect(function () {\n    if (!observerOrListener) {\n      return;\n    }\n\n    var sub = service.subscribe(toObserver(observerOrListener));\n    return function () {\n      sub.unsubscribe();\n    };\n  }, [observerOrListener]);\n  useEffect(function () {\n    var rehydratedState = options.state;\n    service.start(rehydratedState ? State.create(rehydratedState) : undefined);\n    return function () {\n      service.stop();\n      service.status = InterpreterStatus.NotStarted;\n    };\n  }, []);\n  return service;\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__read","o","m","Symbol","iterator","r","ar","next","done","push","value","error","useEffect","useState","useIsomorphicLayoutEffect","interpret","InterpreterStatus","State","toObserver","useConstant","useIdleInterpreter","getMachine","options","machine","process","env","NODE_ENV","_a","initialMachine","console","warn","context","guards","actions","activities","services","delays","rehydratedState","state","interpreterOptions","service","machineConfig","machineWithConfig","withConfig","useInterpret","_i","_b","_c","observerOrListener","sub","subscribe","unsubscribe","start","create","undefined","stop","status","NotStarted"],"sources":["/project/xstate-getting-started/node_modules/@xstate/react/es/useInterpret.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useEffect, useState } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport { interpret, InterpreterStatus, State, toObserver } from 'xstate';\nimport useConstant from './useConstant';\nexport function useIdleInterpreter(getMachine, options) {\n    var machine = useConstant(function () {\n        return typeof getMachine === 'function' ? getMachine() : getMachine;\n    });\n    if (process.env.NODE_ENV !== 'production' &&\n        typeof getMachine !== 'function') {\n        var _a = __read(useState(machine), 1), initialMachine = _a[0];\n        if (getMachine !== initialMachine) {\n            console.warn('Machine given to `useMachine` has changed between renders. This is not supported and might lead to unexpected results.\\n' +\n                'Please make sure that you pass the same Machine as argument each time.');\n        }\n    }\n    var context = options.context, guards = options.guards, actions = options.actions, activities = options.activities, services = options.services, delays = options.delays, rehydratedState = options.state, interpreterOptions = __rest(options, [\"context\", \"guards\", \"actions\", \"activities\", \"services\", \"delays\", \"state\"]);\n    var service = useConstant(function () {\n        var machineConfig = {\n            context: context,\n            guards: guards,\n            actions: actions,\n            activities: activities,\n            services: services,\n            delays: delays\n        };\n        var machineWithConfig = machine.withConfig(machineConfig, function () { return (__assign(__assign({}, machine.context), context)); });\n        return interpret(machineWithConfig, interpreterOptions);\n    });\n    // Make sure options are kept updated when they change.\n    // This mutation assignment is safe because the service instance is only used\n    // in one place -- this hook's caller.\n    useIsomorphicLayoutEffect(function () {\n        Object.assign(service.machine.options.actions, actions);\n        Object.assign(service.machine.options.guards, guards);\n        Object.assign(service.machine.options.activities, activities);\n        Object.assign(service.machine.options.services, services);\n        Object.assign(service.machine.options.delays, delays);\n    }, [actions, guards, activities, services, delays]);\n    return service;\n}\nexport function useInterpret(getMachine) {\n    var _a = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        _a[_i - 1] = arguments[_i];\n    }\n    var _b = __read(_a, 2), _c = _b[0], options = _c === void 0 ? {} : _c, observerOrListener = _b[1];\n    var service = useIdleInterpreter(getMachine, options);\n    useEffect(function () {\n        if (!observerOrListener) {\n            return;\n        }\n        var sub = service.subscribe(toObserver(observerOrListener));\n        return function () {\n            sub.unsubscribe();\n        };\n    }, [observerOrListener]);\n    useEffect(function () {\n        var rehydratedState = options.state;\n        service.start(rehydratedState ? State.create(rehydratedState) : undefined);\n        return function () {\n            service.stop();\n            service.status = InterpreterStatus.NotStarted;\n        };\n    }, []);\n    return service;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}